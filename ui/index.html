<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Babylon JS Electron App</title>
    <style>
        html,
        body {
            overflow: hidden;
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
        }

        #render-canvas {
            width: 100%;
            height: 100%;
            touch-action: none;
        }
    </style>
</head>

<body>
    <canvas id="render-canvas"></canvas>
    <script>
        var ops = require('./app/operations/operations')
        ops.openFile("../test_file.flx", document.getElementById('render-canvas'))
        var {ipcRenderer} = require('electron');
        ipcRenderer.on('openFile', function(event, path) {
            ops.openFile(path[0], document.getElementById('render-canvas'))
        });
        ipcRenderer.on('saveFile', function(event) {
            ops.saveFile()
        });
        ipcRenderer.on('saveAsFile', function(event, path) {
            console.log(event)
            console.log(path)
            ops.saveAsFile(path)
        });
        ipcRenderer.on('getCurrentFile', function(event) {
            ipcRenderer.send(ops.getCurrentFile())
        });

        var keys = require('./app/ui/key_events')
    </script>
</body>

</html>